---
title: Code Styleguide
path: /contributing/code-styleguide/
sidebar_position: 4
---

Common code style decisions that you must know before becoming a contributor.

## Components

### File structure

The standard is to use pattern:

```sh isStatic
// âœ… Good
component
|__ tests
|   |__ __snapshots__
|   |__ component.test.tsx
|   |__ component-composite.test.tsx
|
|__ stories
|   |__ component.stories.tsx
|   |__ component-composite.stories.tsx
|
|_ index.tsx
|_ component.tsx
|_ component-composite.tsx
|_ component.context.tsx
|_ component.style.ts
|_ component.state.ts
```

### Prevent the use of React.FC

The use of `React.FunctionComponent` (or the `React.FC` shorthand) is discouraged to type the component props. If you need to type children explicitly, use `React.ReactNode`. [Some good reasons why](https://github.com/facebook/create-react-app/pull/8177).

```tsx isStatic
// âœ… Good
interface Props {
  title: string
  children?: React.ReactNode
}

function Component(props: Props) {
  // ...
}

// ðŸš¨ Bad
interface Props {
  title: string
}

const Component = React.FC<Props>(props) {
  // ...
}

// ðŸš¨ Bad
interface Props {
  title: string
}

const Component = React.FunctionComponent<Props>(props) {
  // ...
}
```

### Avoid param destructuring

Prefer destructuring on the component's body.

```tsx isStatic
interface Props {
  title: string
  // ...
}

// âœ… Good
function Component(props: Props) {
  const { title } = props
  // ...
}

// ðŸš¨ Bad
function Component({ title }: Props) {
  // ...
}
```

### Avoid inline types

Always prefer creating an interface or type for the component props.

```tsx isStatic
// âœ… Good
interface Props {
  title: string
}

function Component(props: Props) {
  // ...
}

// ðŸš¨ Bad
function Component({ title }: { title: string }) {
  // ...
}
```

### Avoid inline extension

Avoid extending other types within the function param directly. Prefer extending or compose a new type for a cleaner code.

```tsx isStatic
// âœ… Good
interface Props extends SomeTypeA {
  title: string
}

function Component(props: Props) {
  // ...
}

// âœ… Good
type Props = SomeTypeA & SomeTypeB

function Component(props: Props) {
  // ...
}

// ðŸš¨ Bad
function Component(props: Props & SomeTypeA) {
  // ...
}
```

### Avoid too much nesting

A deep directory nesting can cause a lot of pain points, so you must avoid it as much as you can.[Link](https://reactjs.org/docs/faq-structure.html#avoid-too-much-nesting).

### Prefer named exports

Named exports are preferred over default exports.

```tsx isStatic
// âœ… Good
export function Component() {
  // ...
}

// ðŸš¨ Bad
export default function Component() {
  // ...
}
```

## Testing

### File structure

All test files must follow the `*.test.(ts|tsx)` pattern, where `*` shall never be `index`. Use the `tests` directory to store all the test files.

```sh isStatic
// âœ… Good
component
|__ tests
|   |__ component.test.tsx
|   |__ component-composite.test.tsx
|
|_ index.tsx
|_ component.tsx
|_ component-composite.tsx

// ðŸš¨ Bad
component
|_ index.tsx
|_ component.tsx
|_ component-composite.tsx
|_ component.test.tsx
|_ component-composite.test.tsx
```

## Styling

### Prefer tokens

Always prefer to use tokens instead of hardcoded values.

```jsx isStatic
// âœ… Good
<tag.div
  csx={{
    bg: '$primary',
    padding: '$xs',
  }}
/>

// ðŸš¨ Bad
<tag.div
  csx={{
    bg: '#fff',
    padding: '8px',
  }}
/>
```

### Prefer shorthands

Prefer props composition and shorthands.

```jsx isStatic
// âœ… Preferred
<tag.div
  csx={{
    bg: '$primary',
    paddingX: '$xs',
    size: '20rem',
  }}
/>

// ðŸš¨ Not wrong, but can improve
<tag.div
  csx={{
    backgroundColor: '$primary',
    paddingLeft: '$xs',
    paddingRight: '$xs',
    height: '20rem',
    width: '20rem',
  }}
/>
```

### Prefer responsive aliases

Responsive aliases are preferred over custom media queries and responsive arrays. The main reasons for this are performance and semantics.

```jsx isStatic
// âœ… Good
<tag.div
  csx={{
    padding: '$xs',
    '@tablet': {
      padding: '$s',
    },
    '@desktop': {
      padding: '$m',
    }
  }}
/>

// ðŸš¨ Bad, not semantic
<tag.div
  csx={{
    padding: ['$xs', '$s', '$m'],
  }}
/>

// ðŸš¨ Bad, not consistent
<tag.div
  csx={{
    padding: '$xs',
    '@media screen and (min-width: 40em)': {
      padding: '$s',
    },
    '@media screen and (min-width: 80em)': {
      padding: '$m',
    },
  }}
/>
```

### Avoid parent styles

While coding an app it doesn't matter, but if you are within a library this is a bad practice! The user will not be able to customize the child's style without the `!important` flag. So, you must avoid it.

```jsx isStatic
// âœ… Good
<tag.div
  csx={{
    padding: '$m',
  }}
>
  <tag.h1 csx={{ color: '$primary' }}>
    Title
  </tag.h1>
</tag.div>

// ðŸš¨ Bad
<tag.div
  csx={{
    padding: '$m',
    h1: {
      color: '$primary'
    }
  }}
>
  <h1>Title</h1>
</tag.div>
```

## Documentation

### Writing stories

In admin-ui we use [storybook](https://storybook.js.org/) as our playground to develop components.

#### File structure

Always use the `stories.tsx` suffix. Otherwise, it will not work. Use the `stories` directory to store all the story files.

```sh isStatic
// âœ… Good
component
|__ stories
|   |__ component.stories.tsx
|   |__ component-composite.stories.tsx
|
|_ index.tsx
|_ component.tsx
|_ component-composite.tsx

// ðŸš¨ Bad
component
|_ index.tsx
|_ component.tsx
|_ component-composite.tsx
|_ component.stories.tsx
|_ component-composite.stories.tsx
```
