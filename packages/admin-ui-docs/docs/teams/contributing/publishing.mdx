---
title: Publishing Versions
path: /contributing/publishing/
sidebar_position: 2
---

Currently we are publishing our versions manually in the repository. Here we have listed the topics that you should be aware of before publishing a package.

**Conventional commits**

The releases are made based on the commits' messages, so when running the `publish` command, the Lerna will look for the pattern that represents a new release in the commits. You should read [this quick documentation](https://www.conventionalcommits.org/en/v1.0.0/) for detailed info

**NPM**

You must be logged in to your account through the terminal and also must be in the VTEX organization, so youâ€™ll have permission to publish a package.

**Repository permissions**

When publishing a package you must have permission to make `git push` directly on the `main` branch, otherwise, it will not work.

**Lerna**

We use Lerna to control the operations through all of our packages on Admin UI. Know more in:
- [Lerna documentation](https://github.com/lerna/lerna)
- [Lerna config on Admin UI](https://github.com/vtex/admin-ui/blob/main/lerna.json).

**Admin UI Docs**

We need to add manually a new version of our documentation each time a new version of Admin UI will be published. Execute the following command to create a new version of the documentation:
```
yarn version:docs <admin-ui-version>
```

## Publish Flow

Once you merge the changes within the `main` branch, you should update your local branch, and then run `yarn publish:main`.

We defined this command to make it easier to release a package, but under the hood, it will run the following commands:

1. `yarn`
2. `yarn lerna run build` - It builds all the packages from the repository, and without this command, the *npm* package will not have the current changes when published.
3. `yarn lerna publish` - It will look for all the packages and publish only the ones that have been changed.
